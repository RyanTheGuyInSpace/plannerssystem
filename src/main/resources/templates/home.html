<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="ISO-8859-1">
        <title>Home</title>
    </head>
    <body>
        <div th:replace="fragments :: scripts"></div>
        <div th:replace="fragments :: navbar"></div>

        <div class="container-fluid">
            <div class="card">
                <div class="card-header">
                    <h1 class="display-4">Upcoming Items</h1>
                </div>

                <div class="card-body">
                    <h3>Tasks</h3>
                    <table th:if="${tasks.size() > 0}" class="table table-striped table-bordered mb-3">
                        <thead class="thead-light">
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="task: ${tasks}">
                            <td th:text="${task.name}"></td>
                            <td th:text="${task.description}"></td>
                            <td th:if="${task.startDate}" th:text="${dateFormatter.format(task.startDate)}"></td>
                            <td th:unless="${task.startDate}"></td>

                            <td th:if="${task.endDate}" th:text="${dateFormatter.format(task.endDate)}"></td>
                            <td th:unless="${task.endDate}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <p th:unless="${tasks.size() > 0}">No upcoming tasks.</p>

                    <hr class="my-4">

                    <h3>Events</h3>
                    <table th:if="${events.size() > 0}" class="table table-striped table-bordered mb-3">
                        <thead class="thead-light">
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="event: ${events}">
                            <td th:text="${event.name}"></td>
                            <td th:text="${event.description}"></td>
                            <td th:if="${event.startDate}" th:text="${dateFormatter.format(event.startDate)}"></td>
                            <td th:unless="${event.startDate}"></td>

                            <td th:if="${event.endDate}" th:text="${dateFormatter.format(event.endDate)}"></td>
                            <td th:unless="${event.endDate}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <p th:unless="${events.size() > 0}">No upcoming events.</p>

                    <hr class="my-4">

                    <h3>Routines</h3>
                    <table th:if="${routines.size() > 0}" class="table table-striped table-bordered mb-3">
                        <thead class="thead-light">
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="routine: ${routines}">
                            <td th:text="${routine.name}"></td>
                            <td th:text="${routine.description}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <p th:unless="${routines.size() > 0}">No upcoming routines.</p>

                    <hr class="my-4">

                    <h3>Reminders</h3>
                    <table th:if="${reminders.size() > 0}" class="table table-striped table-bordered mb-3">
                        <thead class="thead-light">
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="reminder: ${reminders}">
                            <td th:text="${reminder.name}"></td>
                            <td th:text="${reminder.description}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <p th:unless="${reminders.size() > 0}">No upcoming reminders.</p>
                </div>
            </div>
        </div>
    </body>
</html>